1.
    - Clustered Index (CI)
        Äá»‹nh nghÄ©a:
            Clustered Index quyáº¿t Ä‘á»‹nh cÃ¡ch dá»¯ liá»‡u váº­t lÃ½ trong table Ä‘Æ°á»£c lÆ°u trÃªn Ä‘Ä©a.
            Má»™t table chá»‰ cÃ³ thá»ƒ 1 clustered index, vÃ¬ dá»¯ liá»‡u chá»‰ sáº¯p xáº¿p theo 1 thá»© tá»± váº­t lÃ½.
        VÃ­ dá»¥:
            Table customer cÃ³ PRIMARY KEY (customer_id) â†’ MySQL InnoDB tá»± Ä‘á»™ng táº¡o clustered index theo customer_id.
            Dá»¯ liá»‡u trÃªn Ä‘Ä©a sáº¯p xáº¿p theo customer_id.
        Æ¯u Ä‘iá»ƒm:
            SELECT theo range (WHERE customer_id BETWEEN 100 AND 200) nhanh
            ORDER BY theo cá»™t clustered index ráº¥t nhanh
        NhÆ°á»£c Ä‘iá»ƒm:
            INSERT/UPDATE/DELETE cÃ³ thá»ƒ cháº­m hÆ¡n náº¿u cáº§n di chuyá»ƒn nhiá»u row Ä‘á»ƒ giá»¯ thá»© tá»± váº­t lÃ½.

    - Non-clustered Index (NCI)
        Äá»‹nh nghÄ©a:
            Non-clustered Index lÃ  index riÃªng, lÆ°u key + pointer tá»›i row dá»¯ liá»‡u váº­t lÃ½
            Table cÃ³ thá»ƒ cÃ³ nhiá»u NCI.
        VÃ­ dá»¥: CREATE INDEX inx_last_name ON customer(last_name);
            Dá»¯ liá»‡u váº­t lÃ½ ko thay Ä‘á»•i, chá»‰ táº¡o thÃªm "báº£n Ä‘á»“" Ä‘á»ƒ truy xuáº¥t nhanh
            Sáº¯p xáº¿p BTree theo column Ä‘Ã¡nh index vÃ­ dá»¥
                                [BROWN] PK = 2
                               /      \
                    [ADAMS] PK=3      [CLARK] PK=5
                                      /        \
                              [SMITH] PK=1   [SMITH] PK=4

        Æ¯u Ä‘iá»ƒm:
            CÃ³ thá»ƒ táº¡o nhiá»u index trÃªn table
            SELECT theo cá»™t indexed nhanh
        NhÆ°á»£c Ä‘iá»ƒm:
            Range query kÃ©m hÆ¡n clustered index
            Cáº­p nháº­t index khi INSERT/UPDATE/DELETE cÃ³ chi phÃ­ thÃªm
        So sÃ¡nh performance
        | TiÃªu chÃ­               | Clustered Index             | Non-Clustered Index                |
        | ---------------------- | --------------------------- | ---------------------------------- |
        | Sá»‘ lÆ°á»£ng trÃªn table    | 1                           | Nhiá»u                              |
        | LÆ°u trá»¯ dá»¯ liá»‡u váº­t lÃ½ | Sáº¯p xáº¿p theo index          | Dá»¯ liá»‡u khÃ´ng sáº¯p xáº¿p, chá»‰ pointer |
        | SELECT báº±ng key        | Ráº¥t nhanh                   | Nhanh nhÆ°ng thÃªm 1 lookup tá»›i row  |
        | SELECT range query     | Ráº¥t nhanh                   | Cháº­m hÆ¡n (lookup nhiá»u pointer)    |
        | INSERT/UPDATE/DELETE   | CÃ³ thá»ƒ cháº­m (di chuyá»ƒn row) | Cháº­m hÆ¡n khi update nhiá»u index    |
        | ORDER BY               | Ráº¥t nhanh                   | Cháº­m náº¿u khÃ´ng pháº£i cá»™t index      |
        NguyÃªn nhÃ¢n
            Clustered index: dá»¯ liá»‡u váº­t lÃ½ sáº¯p xáº¿p â†’ SELECT range / ORDER BY nhanh.
            Non-clustered index: chá»‰ cÃ³ pointer â†’ pháº£i truy cáº­p thÃªm table row â†’ lookup thÃªm 1 bÆ°á»›c.
            Nhiá»u NCI â†’ tá»‘n khÃ´ng gian + chi phÃ­ update khi dá»¯ liá»‡u thay Ä‘á»•i.
        Tip khi thiáº¿t káº¿ database:
            Chá»n PRIMARY KEY lÃ m Clustered Index
            Chá»‰ táº¡o Non-clustered Index cho cÃ¡c cá»™t thÆ°á»ng dÃ¹ng Ä‘á»ƒ search, filter, join
            TrÃ¡nh quÃ¡ nhiá»u index â†’ tÄƒng chi phÃ­ update/insert/delete

2. CÃ³ giá»›i háº¡n viá»‡c Ä‘Ã¡nh bao nhiÃªu index trong 1 table khÃ´ng?
   Giá»›i háº¡n lÃ½ thuyáº¿t:
        MySQL InnoDB: tá»‘i Ä‘a 64 index trÃªn 1 table
        MySQL MyISAM: tá»‘i Ä‘a 64 index cÅ©ng
   Giá»›i háº¡n thá»±c táº¿:
        KhÃ´ng nÃªn táº¡o quÃ¡ nhiá»u index â†’ tá»‘n khÃ´ng gian, lÃ m cháº­m INSERT/UPDATE/DELETE.
        Má»—i index pháº£i duy trÃ¬ khi cáº­p nháº­t dá»¯ liá»‡u â†’ overhead lá»›n.
   Káº¿t luáº­n: CÃ³ giá»›i háº¡n váº­t lÃ½ (64 index), nhÆ°ng quan trá»ng lÃ  chá»n index há»£p lÃ½, khÃ´ng nÃªn táº¡o index vÃ´ tá»™i váº¡.

3. Viá»‡c Ä‘Ã¡nh index dá»±a trÃªn cÆ¡ sá»Ÿ nÃ o?
   Báº¡n nÃªn táº¡o index trÃªn cÃ¡c cá»™t thÆ°á»ng xuyÃªn sá»­ dá»¥ng Ä‘á»ƒ:
    - WHERE: lá»c dá»¯ liá»‡u
        SELECT * FROM customer WHERE last_name = 'Smith';
    - JOIN: káº¿t ná»‘i giá»¯a 2 báº£ng
        SELECT * FROM customer c
        JOIN payment p ON c.customer_id = p.customer_id;
    - ORDER BY / GROUP BY: sáº¯p xáº¿p hoáº·c nhÃ³m dá»¯ liá»‡u
        SELECT * FROM customer ORDER BY first_name;
    - Range query / LIKE pattern search
        VÃ­ dá»¥: WHERE customer_id BETWEEN 100 AND 200
   NguyÃªn táº¯c:
        Index giÃºp truy xuáº¥t nhanh, nhÆ°ng quÃ¡ nhiá»u index â†’ cháº­m update/insert/delete.
        KhÃ´ng index táº¥t cáº£ cá»™t â†’ tá»‘n space + overhead.

4. LÃ m tháº¿ nÃ o Ä‘á»ƒ biáº¿t 1 cÃ¢u query Ä‘Ã£ sá»­ dá»¥ng index hay chÆ°a?
    a) DÃ¹ng EXPLAIN
            EXPLAIN SELECT * FROM customer WHERE last_name = 'Smith';
        Xem cá»™t key: index Ä‘Æ°á»£c MySQL sá»­ dá»¥ng
        Xem rows: sá»‘ row cáº§n scan â†’ Ã­t row = index hiá»‡u quáº£
        Xem type: ideal = ref, const; náº¿u ALL â†’ full table scan
    b) DÃ¹ng SHOW INDEX
            SHOW INDEX FROM customer;
       Kiá»ƒm tra index Ä‘Ã£ táº¡o trÃªn table
       Káº¿t há»£p vá»›i EXPLAIN â†’ xem query cÃ³ dÃ¹ng index nÃ o
    c) DÃ¹ng EXPLAIN ANALYZE (MySQL 8+)
            EXPLAIN ANALYZE SELECT * FROM customer WHERE last_name = 'Smith';
        Hiá»ƒn thá»‹ thá»i gian thá»±c táº¿ tá»«ng bÆ°á»›c
        Kiá»ƒm tra lookup báº±ng index hay scan toÃ n table


Äá»c thÃªm:
1. CÃ¡ch lÆ°u dá»¯ liá»‡u trong CI
    InnoDB lÆ°u Clustered Index dÆ°á»›i dáº¡ng B+Tree.
    Leaf node cá»§a B+Tree chá»©a toÃ n bá»™ row data.
    Dá»¯ liá»‡u Ä‘Æ°á»£c sáº¯p xáº¿p theo Primary Key (PK).
 ğŸ‘‰ Do Ä‘Ã³ khi báº¡n muá»‘n tÃ¬m má»™t record theo PK, MySQL pháº£i duyá»‡t B+Tree tá»« root â†’ internal node â†’ leaf node.
ğŸ“Œ 2. Äá»™ phá»©c táº¡p B+Tree
    Vá»›i n báº£n ghi, chiá»u cao cÃ¢y B+Tree â‰ˆ log_b(n) vá»›i b lÃ  sá»‘ key tá»‘i Ä‘a má»—i node cÃ³ thá»ƒ chá»©a (phá»¥ thuá»™c page size, thÆ°á»ng lÃ  16KB).
    Thá»±c táº¿ B+Tree cÃ³ b ráº¥t lá»›n (hÃ ng trÄƒm / hÃ ng ngÃ n key má»—i node), nÃªn chiá»u cao cá»§a cÃ¢y thÆ°á»ng ráº¥t nhá» (thÆ°á»ng chá»‰ 3â€“4 táº§ng cho cáº£ triá»‡u row).
    Do Ä‘Ã³ lookup lÃ  O(log n) vá» máº·t lÃ½ thuyáº¿t.
ğŸ“Œ 3. VÃ¬ sao khÃ´ng pháº£i O(1)?
    Náº¿u CI Ä‘Æ°á»£c lÆ°u dÆ°á»›i dáº¡ng hash table â†’ tÃ¬m theo PK sáº½ lÃ  O(1).
    NhÆ°ng MySQL chá»n B+Tree thay vÃ¬ hash vÃ¬ B+Tree cÃ³ Æ°u Ä‘iá»ƒm:
        Há»— trá»£ range query (BETWEEN, ORDER BY, LIKE 'abc%').
        Há»— trá»£ truy cáº­p theo thá»© tá»±.
        Hash index thÃ¬ chá»‰ giá»i lookup chÃ­nh xÃ¡c, khÃ´ng lÃ m Ä‘Æ°á»£c range.
    ğŸ‘‰ VÃ¬ tháº¿ CI cháº¥p nháº­n O(log n), Ä‘á»•i láº¡i cÃ³ tÃ­nh nÄƒng máº¡nh hÆ¡n.
ğŸ“Œ 4. Minh há»a
    Giáº£ sá»­ báº£ng cÃ³ 1 triá»‡u row:
    Hash table â†’ tÃ¬m PK = O(1).
    B+Tree (fanout lá»›n, vÃ­ dá»¥ b=1000):
        logâ‚â‚€â‚€â‚€(1,000,000) â‰ˆ 2â€“3 bÆ°á»›c.
        Tá»©c lÃ  MySQL chá»‰ cáº§n Ä‘á»c 2â€“3 page tá»« disk/buffer Ä‘á»ƒ tÃ¬m row.
        Thá»±c táº¿ ráº¥t gáº§n vá»›i O(1), nhÆ°ng vá» lÃ½ thuyáº¿t váº«n lÃ  O(log n).
âœ… Káº¿t luáº­n:
    CI lookup = O(log n) (nhÆ°ng nÃ´ng, gáº§n nhÆ° constant trong thá»±c táº¿).
    Æ¯u Ä‘iá»ƒm: há»— trá»£ range scan & sáº¯p xáº¿p tá»± nhiÃªn.
    NhÆ°á»£c Ä‘iá»ƒm: INSERT/DELETE cÃ³ thá»ƒ cháº­m vÃ¬ pháº£i duy trÃ¬ thá»© tá»± B+Tree.